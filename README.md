[![Build status](https://ci.appveyor.com/api/projects/status/yn6ycnuwux3kvesc/branch/main?svg=true)](https://ci.appveyor.com/project/marinaustinovich/ahj-homeworks-sse-ws-online-reportage/branch/main)

## Онлайн-репортаж

### Легенда

Портал спортивных трансляций, на которых пользователи могут видеть текстовую трансляцию матча. Получаются обновления с сервера, но не отправляются обратно,  используется SSE для получения данных.

### Описание
Реализованп серверная часть и клиентская, позволяющие по SSE получать данные с прямого репортажа о футбольном событии.

#### Серверная часть

На серверной части генерируется с произвольным интервалом несколько типов событий:
1. Комментарий об игровом действии: «Идёт перемещение мяча по полю, игроки и той, и другой команды активно пытаются атаковать» (тип — `action`).
1. Штрафной удар: «Нарушение правил, будет штрафной удар» (тип — `freekick`).
1. Гол: «Отличный удар! И Г-О-Л!» (тип — `goal`).

Генерируется события в случайном порядке с различной долей вероятности:
1. Вероятность первого события — 50 %.
1. Вероятность второго события — 40 %.
1. Вероятность третьего события — 10 %.

Игра стартует при старте сервера (генерация событий). Максимум сгенерированных событий — 50.
Все события кешируются. Так, чтобы игрок, подключившийся не с самого начала матча, получал всю предыдущую историю игры.

#### Клиентская часть

Клиентская часть выглядит следующим образом:

![](./front/src/img/report.png)

Для событий с типом `freekick` и `goal` сбоку устанавливаются иконки.
Виджет в виде отдельного класса, который сам генерирует для себя разметку и которому в качестве параметра конструктора передаётся URL для подключения.